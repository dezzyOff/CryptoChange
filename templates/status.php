<?php foreach ($steps as $index => $step): ?>
    <div class="order__status-step <?php echo isset($stepClasses[$index]) ? $stepClasses[$index] : 'disabled'; ?>">
        <div class="order__status-img">
            <?php if ($step['key'] === 'create_order'): ?>
                <svg class="order__status-img-item" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_2157_324)">
                        <path
                            d="M8.75025 14.375C8.75025 10.9375 11.5627 8.125 15.0002 8.125C15.7502 8.125 16.4377 8.25 17.0627 8.5L18.8752 5.75C19.1252 5.375 19.2502 5 19.3127 4.5625C19.3752 4.5 19.3752 4.4375 19.3752 4.375C19.3752 4.3125 19.3752 4.3125 19.3752 4.25C19.3752 3.75 19.3127 3.3125 19.1252 2.8125C18.6877 1.9375 17.8752 1.3125 16.9377 1.1875C16.8127 1.1875 16.6877 1.1875 16.5627 1.1875C16.5002 1.1875 16.5002 1.1875 16.4377 1.1875C16.3752 1.1875 16.3127 1.1875 16.2502 1.1875H5.93775C5.87525 1.25 5.81274 1.25 5.75024 1.3125C5.75024 1.25 5.68774 1.25 5.62524 1.25C3.87524 1.25 2.50024 2.625 2.50024 4.375C2.50024 4.8125 2.62524 5.1875 2.87524 5.5625C3.37524 6.375 4.25024 6.875 5.25024 6.875H6.00025L1.12524 14.25C0.562744 15.125 0.500244 16.1875 0.937744 17.125C1.37524 18 2.18774 18.625 3.12524 18.75C3.25024 18.75 3.37524 18.75 3.50024 18.75H10.6252C9.43775 17.625 8.75025 16.0625 8.75025 14.375ZM5.25024 5.625C4.68774 5.625 4.18774 5.375 3.93774 4.9375C3.81274 4.75 3.75024 4.5625 3.75024 4.375C3.75024 3.3125 4.56274 2.5 5.62524 2.5C5.68774 2.5 5.75024 2.5 5.75024 2.4375C5.81274 2.5 5.87525 2.5 5.93775 2.5H13.8752C12.8127 3.875 13.2502 5.125 13.5002 5.625H5.25024Z"
                            fill="rgba(100, 111, 147, 0.7)" />
                        <path
                            d="M15.0002 9.375C12.2502 9.375 10.0002 11.625 10.0002 14.375C10.0002 17.125 12.2502 19.375 15.0002 19.375C17.7502 19.375 20.0002 17.125 20.0002 14.375C20.0002 11.625 17.7502 9.375 15.0002 9.375ZM16.8752 15H15.6252V16.25C15.6252 16.625 15.3752 16.875 15.0002 16.875C14.6252 16.875 14.3752 16.625 14.3752 16.25V15H13.1252C12.7502 15 12.5002 14.75 12.5002 14.375C12.5002 14 12.7502 13.75 13.1252 13.75H14.3752V12.5C14.3752 12.125 14.6252 11.875 15.0002 11.875C15.3752 11.875 15.6252 12.125 15.6252 12.5V13.75H16.8752C17.2502 13.75 17.5002 14 17.5002 14.375C17.5002 14.75 17.2502 15 16.8752 15Z"
                            fill="rgba(100, 111, 147, 0.7)" />
                    </g>
                    <defs>
                        <clipPath id="clip0_2157_324">
                            <rect width="20" height="20" fill="white" />
                        </clipPath>
                    </defs>
                </svg>
                <svg class="order__status-img-item-completed" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.75 9.99967L7.91667 14.1663L16.25 5.83301" stroke="#22C55E" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            <?php elseif ($step['key'] === 'waiting_for_deposit'): ?>
                <svg class="order__status-img-item" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M8.75 8.74902C12.547 8.74902 15.625 7.07009 15.625 4.99902C15.625 2.92796 12.547 1.24902 8.75 1.24902C4.95304 1.24902 1.875 2.92796 1.875 4.99902C1.875 7.07009 4.95304 8.74902 8.75 8.74902Z"
                        fill="rgba(100, 111, 147, 0.7)" />
                    <path
                        d="M8.75 14.999C5.75 14.999 3.25 14.124 1.875 12.749V14.999C1.875 17.124 4.875 18.749 8.75 18.749C9.3125 18.749 9.875 18.6865 10.4375 18.624C9.5 17.6865 8.9375 16.374 8.75 14.999Z"
                        fill="rgba(100, 111, 147, 0.7)" />
                    <path
                        d="M1.875 7.74902V9.99902C1.875 12.124 4.875 13.749 8.75 13.749C8.75 13.749 8.75 13.749 8.8125 13.749C8.9375 12.249 9.6875 10.874 10.6875 9.87402C10.0625 9.93652 9.4375 9.99902 8.75 9.99902C5.75 9.99902 3.25 9.12402 1.875 7.74902Z"
                        fill="rgba(100, 111, 147, 0.7)" />
                    <path d="M15.6255 13.75H19.938C19.6255 11.5 17.8755 9.6875 15.6255 9.4375V13.75Z"
                        fill="rgba(100, 111, 147, 0.7)" />
                    <path
                        d="M15.0005 15C14.6255 15 14.3755 14.75 14.3755 14.375V9.4375C11.938 9.75 10.0005 11.875 10.0005 14.375C10.0005 17.125 12.2505 19.375 15.0005 19.375C17.563 19.375 19.6255 17.4375 19.938 15H15.0005Z"
                        fill="rgba(100, 111, 147, 0.7)" />
                </svg>
                <svg class="order__status-img-item-completed" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.75 9.99967L7.91667 14.1663L16.25 5.83301" stroke="#22C55E" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            <?php elseif ($step['key'] === 'waiting_for_confirm'): ?>
                <svg class="order__status-img-item" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_2157_544)">
                        <path
                            d="M14.8394 9.67046C15.0604 9.86281 15.396 9.85053 15.6088 9.64182C15.8093 9.44128 15.8298 9.12207 15.662 8.90108L15.6538 8.89289C15.6497 8.88471 15.6415 8.87652 15.6334 8.87243L14.2378 7.20678C14.1764 7.13721 14.1437 7.04718 14.1355 6.95305L13.9309 3.82229C13.9063 3.53173 13.6649 3.30664 13.3661 3.30664C13.0756 3.30664 12.8382 3.52354 12.8054 3.80592V3.81002C12.8054 3.82229 12.8054 3.83457 12.8014 3.84685L12.5763 7.28863C12.5722 7.3091 12.5722 7.33365 12.5722 7.35821V7.36639C12.5722 7.37048 12.5722 7.37458 12.5722 7.37867C12.5722 7.38685 12.5722 7.39095 12.5722 7.39913C12.5681 7.60785 12.6458 7.81247 12.8054 7.97208C12.8382 8.00482 12.875 8.03347 12.9119 8.06211L14.8394 9.67046Z"
                            fill="rgba(100, 111, 147, 0.7)" />
                        <path
                            d="M13.4151 0.683594C10.5299 0.683594 8.07441 2.54977 7.19043 5.14032C7.76338 5.2058 8.31996 5.33266 8.86017 5.51683C9.56407 3.68339 11.3402 2.37788 13.4192 2.37788C16.1121 2.37788 18.3015 4.56737 18.3015 7.26023C18.3015 9.69526 16.509 11.721 14.1722 12.0853C14.2091 12.4045 14.2295 12.7278 14.2295 13.0511C14.2295 13.3007 14.2172 13.5463 14.1968 13.7918C17.4585 13.4071 19.9999 10.6243 19.9999 7.26023C19.9958 3.63428 17.0451 0.683594 13.4151 0.683594Z"
                            fill="rgba(100, 111, 147, 0.7)" />
                        <path
                            d="M6.26151 6.79395C2.80336 6.79395 0 9.5973 0 13.0555C0 16.5136 2.80336 19.317 6.26151 19.317C9.71966 19.317 12.523 16.5136 12.523 13.0555C12.523 9.5973 9.71966 6.79395 6.26151 6.79395ZM8.05811 15.5232C7.78392 15.8547 7.42787 16.0798 7.01453 16.1903C6.83446 16.2394 6.75261 16.3335 6.76079 16.5218C6.76898 16.706 6.76079 16.8901 6.76079 17.0743C6.76079 17.238 6.67485 17.328 6.51524 17.3321C6.40884 17.3362 6.30243 17.3362 6.19603 17.3362C6.1019 17.3362 6.01187 17.3362 5.91774 17.3321C5.74176 17.328 5.65991 17.2298 5.65991 17.0579C5.65991 16.9229 5.65582 16.7878 5.65582 16.6528C5.65173 16.354 5.64354 16.3417 5.35707 16.2967C4.98875 16.2394 4.62861 16.1535 4.29302 15.9939C4.0311 15.867 4.00246 15.8015 4.07612 15.5232C4.13342 15.3186 4.19071 15.1099 4.2521 14.9094C4.29711 14.7579 4.34213 14.6925 4.42398 14.6925C4.469 14.6925 4.53039 14.7129 4.60814 14.7579C4.98056 14.9503 5.37344 15.0608 5.78678 15.1099C5.85635 15.1181 5.92593 15.1222 5.9955 15.1222C6.18785 15.1222 6.3761 15.0853 6.56026 15.0076C7.01862 14.807 7.09229 14.2709 6.7035 13.9517C6.57254 13.8412 6.42112 13.7635 6.26151 13.6939C5.85635 13.5179 5.43892 13.3829 5.05423 13.1537C4.43626 12.7854 4.04338 12.2738 4.0884 11.5208C4.1416 10.6695 4.62042 10.1375 5.40209 9.85513C5.72539 9.73645 5.72539 9.74463 5.72539 9.40495C5.72539 9.29036 5.72539 9.17577 5.72539 9.06528C5.73358 8.81154 5.7745 8.76653 6.02824 8.76243C6.05689 8.76243 6.08553 8.76243 6.11418 8.76243C6.16329 8.76243 6.2124 8.76243 6.26151 8.76243C6.28197 8.76243 6.30243 8.76243 6.3188 8.76243C6.79763 8.76243 6.79763 8.7829 6.80172 9.29855C6.80172 9.67915 6.80172 9.67915 7.18232 9.74054C7.47289 9.78556 7.75118 9.8715 8.01719 9.99018C8.16452 10.0557 8.22181 10.158 8.1768 10.3135C8.10722 10.5468 8.04584 10.78 7.97217 11.0092C7.92715 11.1484 7.88214 11.2138 7.80029 11.2138C7.75527 11.2138 7.69797 11.1934 7.62431 11.1606C7.25189 10.9806 6.86311 10.8946 6.45795 10.8946C6.40475 10.8946 6.35154 10.8946 6.29834 10.8987C6.17557 10.9069 6.05689 10.9233 5.94639 10.9724C5.54532 11.1484 5.47984 11.5903 5.82361 11.8645C5.9955 12.0037 6.19194 12.1019 6.39656 12.1878C6.75261 12.3352 7.10866 12.4743 7.44424 12.6626C8.52466 13.256 8.81522 14.6024 8.05811 15.5232Z"
                            fill="rgba(100, 111, 147, 0.7)" />
                    </g>
                    <defs>
                        <clipPath id="clip0_2157_544">
                            <rect width="20" height="20" fill="white" />
                        </clipPath>
                    </defs>
                </svg>
                <svg class="order__status-img-item-completed" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.75 9.99967L7.91667 14.1663L16.25 5.83301" stroke="#22C55E" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            <?php elseif ($step['key'] === 'sending_funds'): ?>
                <svg class="order__status-img-item" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_2157_180)">
                        <path
                            d="M15.5031 11.4218L15.6123 11.4207V12.5204C15.5409 12.5169 15.5042 12.5145 15.5007 12.5145C15.053 12.5145 14.8292 12.3291 14.8292 11.9552C14.8286 11.6008 15.0524 11.4218 15.5031 11.4218ZM16.1244 13.2085V14.3986H16.2331C16.721 14.3986 16.9643 14.1895 16.9643 13.7714C16.9643 13.541 16.9094 13.391 16.803 13.3172C16.6932 13.2445 16.4682 13.2085 16.1244 13.2085ZM20.0001 12.7856C20.0001 15.0649 18.1521 16.9141 15.8728 16.9141C13.5947 16.9141 11.7466 15.0649 11.7466 12.7856C11.7466 10.5058 13.5947 8.65887 15.8728 8.65887C18.1521 8.65828 20.0001 10.504 20.0001 12.7856ZM17.7321 13.7578C17.7321 13.3172 17.6329 13.0124 17.4344 12.8476C17.2383 12.6817 16.8562 12.5836 16.2916 12.5535L16.1238 12.5464V11.4218H16.2419C16.6583 11.4218 16.8668 11.5878 16.8668 11.9227L16.8704 12.0042H17.6039V11.8997C17.6039 11.4596 17.4982 11.1567 17.2903 10.996C17.0812 10.8342 16.6926 10.7527 16.1238 10.7527V10.3162H15.6117V10.7527C15.0164 10.7527 14.6094 10.8377 14.3903 11.0072C14.17 11.1767 14.059 11.4909 14.059 11.9522C14.059 12.4265 14.17 12.752 14.388 12.9244C14.6059 13.0963 15.0152 13.1831 15.6117 13.1831V14.4004L15.5001 14.398C15.193 14.398 14.9957 14.3579 14.9083 14.2781C14.8221 14.1972 14.7754 14.0194 14.7754 13.7418V13.6645H14.0164L14.0129 13.818C14.0129 14.2734 14.1216 14.5918 14.3395 14.7731C14.5563 14.9562 14.9337 15.0477 15.4688 15.0477L15.6117 15.0513V15.5557H16.1238V15.0513L16.2809 15.0477C16.8172 15.0477 17.1935 14.9509 17.409 14.7625C17.6234 14.5646 17.7321 14.2333 17.7321 13.7578ZM8.70666 13.1105L18.2536 3.56466L18.3287 0.835938L15.5999 0.912129L6.05413 10.4579L3.68096 10.211L1.05796 12.8329L5.67553 13.4879L6.33054 18.1049L8.95236 15.4824L8.70666 13.1105ZM5.45995 14.932C5.34123 15.1676 5.17704 15.408 4.95673 15.6266C4.28518 16.2987 3.03245 16.1321 3.03245 16.1321C3.03245 16.1321 2.86648 14.8788 3.53744 14.2067C3.75657 13.9876 3.99459 13.8234 4.23202 13.7023C3.59532 13.619 2.84168 13.8866 2.25695 14.4742C1.37927 15.3525 0.000732422 19.1621 0.000732422 19.1621C0.000732422 19.1621 3.8109 17.7847 4.68917 16.907C5.27567 16.32 5.54323 15.5687 5.45995 14.932Z"
                            fill="rgba(100, 111, 147, 0.7)" />
                    </g>
                    <defs>
                        <clipPath id="clip0_2157_180">
                            <rect width="20" height="20" fill="white" />
                        </clipPath>
                    </defs>
                </svg>
                <svg class="order__status-img-item-completed" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.75 9.99967L7.91667 14.1663L16.25 5.83301" stroke="#22C55E" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            <?php endif; ?>
        </div>
        <span class="order__status-text"><?php echo $step['label']; ?></span>
    </div>
    <?php if ($index < count($steps) - 1): ?>
        <svg width="200" height="24" viewBox="0 0 200 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 0V24" stroke="#646F93" stroke-opacity="0.24" stroke-dasharray="4 4" />
        </svg>
    <?php endif; ?>
<?php endforeach; ?>
<div class="order__status-error-display <?php echo $errorActive; ?>">
    <svg width="200" height="24" viewBox="0 0 200 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M16 0V24" stroke="#646F93" stroke-opacity="0.24" stroke-dasharray="4 4" />
    </svg>
    <div class="order__status-step-error <?php echo $errorActive; ?>">
        <div class="order__status-img-error <?php echo $errorActive; ?>">
            <svg class="order__status-img-item-error" width="20" height="20" viewBox="0 0 20 20" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M8.35839 3.04943C9.0719 1.75958 10.9262 1.75956 11.6398 3.04939L18.0946 14.7173C18.7859 15.967 17.882 17.4999 16.4539 17.4999H3.54468C2.11653 17.4999 1.21268 15.967 1.90398 14.7173L8.35839 3.04943ZM10.8314 14.1677C10.8314 13.7081 10.4588 13.3355 9.99921 13.3355C9.53959 13.3355 9.16699 13.7081 9.16699 14.1677C9.16699 14.6274 9.53959 15 9.99921 15C10.4588 15 10.8314 14.6274 10.8314 14.1677ZM10.6154 7.62336C10.5738 7.31833 10.3121 7.08341 9.99571 7.08366C9.65053 7.08394 9.37093 7.36398 9.37121 7.70916L9.37421 11.4605L9.37998 11.5453C9.42161 11.8503 9.6833 12.0852 9.99971 12.085C10.3449 12.0847 10.6245 11.8047 10.6242 11.4595L10.6212 7.70816L10.6154 7.62336Z"
                    fill="" />
            </svg>
        </div>
        <span class="order__status-text"><?php echo $translationService->trans('error_status'); ?></span>
    </div>
</div>